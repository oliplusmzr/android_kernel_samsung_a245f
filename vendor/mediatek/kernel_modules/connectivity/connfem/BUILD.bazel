load("//build/bazel_mgk_rules:mgk_ddk_ko.bzl", "define_mgk_ddk_ko")

package(
    default_visibility = [
        "//visibility:public",
    ],
)

filegroup(
    name = "headers",
    srcs = glob([
        "include/**/*.h",
    ]),
)

define_mgk_ddk_ko(
    name = "connfem",
    srcs = [
        "connfem_api.c",
        "connfem_cfg.c",
        "connfem_container.c",
        "connfem_dt_parser.c",
        "connfem_epaelna.c",
        "connfem_module.c",
        "connfem_sku.c",
        "connfem_subsys_bt.c",
        "connfem_subsys_common.c",
        "connfem_subsys_wifi.c"
    ],
    includes = [
        "include",
    ],
    hdrs = glob([
        "**/*.h"
    ]),
    local_defines = [
        "CONNFEM_TEST_ENABLED=0",
        "CONNFEM_DBG=1"
    ],
    copts = [
        "-Wall",
        "-Werror",
    ]
)
