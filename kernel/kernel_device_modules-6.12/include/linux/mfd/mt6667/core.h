/* SPDX-License-Identifier: GPL-2.0 */
/*
 * Copyright (c) 2024 MediaTek Inc.
 */

#ifndef __MFD_MT6667_CORE_H__
#define __MFD_MT6667_CORE_H__

#define MT6667_REG_WIDTH 8

enum mt6667_irq_top_status_shift {
	MT6667_BUCK_TOP = 0,
	MT6667_LDO_TOP,
	MT6667_PSC_TOP,
	MT6667_MISC_TOP,
	MT6667_HK_TOP,
	MT6667_SCK_TOP,
	MT6667_BM_TOP,
	MT6667_AUD_TOP,
};

enum mt6667_irq_numbers {
	/* BUCK_TOP_INT_STATUS0 */
	MT6667_IRQ_BUCK1_OC = 0,
	MT6667_IRQ_BUCK2_OC,
	MT6667_IRQ_BUCK3_OC,
	MT6667_IRQ_BUCK4_OC,
	MT6667_IRQ_BUCK1_SC = 8,
	MT6667_IRQ_BUCK2_SC,
	MT6667_IRQ_BUCK3_SC,
	MT6667_IRQ_BUCK4_SC,
	MT6667_IRQ_BUCK1_OVP = 16,
	MT6667_IRQ_BUCK2_OVP,
	MT6667_IRQ_BUCK3_OVP,
	MT6667_IRQ_BUCK4_OVP,
	MT6667_IRQ_BUCK1_LOPEN = 24,
	MT6667_IRQ_BUCK2_LOPEN,
	MT6667_IRQ_BUCK3_LOPEN,
	MT6667_IRQ_BUCK4_LOPEN,
	/* PSC_TOP_INT_STATUS0 */
	MT6667_IRQ_PRE_OT_BELOW = 32,
	MT6667_IRQ_PRE_OT_OVER,
	/* MISC_TOP_INT_STATUS0 */
	MT6667_IRQ_RCS0 = 40,
	MT6667_IRQ_SPMI_CMD_ALERT,
	MT6667_IRQ_SPMI_PARITY_ERR,
	MT6667_IRQ_SPMI_GLITCH_DET,
	MT6667_IRQ_SPMI_GID_RD_ERR,
	MT6667_IRQ_SPMI_TIMEOUT,
	MT6667_IRQ_BM_PROTREG,
	MT6667_IRQ_VRC_PROTREG,
	MT6667_IRQ_BUCK_PROTREG,
	MT6667_IRQ_LDO_PROTREG,
	MT6667_IRQ_PSC_PROTREG,
	MT6667_IRQ_PLT_PROTREG,
	MT6667_IRQ_HK_PROTREG,
	MT6667_IRQ_SCK_PROTREG,
	MT6667_IRQ_XPP_PROTREG,
	MT6667_IRQ_TOP_PROTREG,
	/* HK_TOP_INT_STATUS0 */
	MT6667_IRQ_ADC_ABNORM = 56,
	MT6667_IRQ_IBUCK_ON,
	MT6667_IRQ_IBUCK_OFF,
	MT6667_IRQ_THR_H,
	MT6667_IRQ_THR_L,
	MT6667_IRQ_POLL_EXCEPT,
	MT6667_IRQ_DBG_RSV1,
	MT6667_IRQ_DBG_RSV2,
	MT6667_IRQ_NR = 64,
};

#define MT6667_IRQ_BUCK_BASE MT6667_IRQ_BUCK1_OC
#define MT6667_IRQ_PSC_BASE MT6667_IRQ_PRE_OT_BELOW
#define MT6667_IRQ_MISC_BASE MT6667_IRQ_RCS0
#define MT6667_IRQ_HK_BASE MT6667_IRQ_ADC_ABNORM

#define MT6667_IRQ_BUCK_BITS \
	(MT6667_IRQ_BUCK4_LOPEN - MT6667_IRQ_BUCK_BASE + 1)
#define MT6667_IRQ_PSC_BITS \
	(MT6667_IRQ_PRE_OT_OVER - MT6667_IRQ_PSC_BASE + 1)
#define MT6667_IRQ_MISC_BITS \
	(MT6667_IRQ_TOP_PROTREG - MT6667_IRQ_MISC_BASE + 1)
#define MT6667_IRQ_HK_BITS \
	(MT6667_IRQ_DBG_RSV2 - MT6667_IRQ_HK_BASE + 1)

#define MT6667_TOP_GEN(sp) \
{ \
	.hwirq_base = MT6667_IRQ_##sp##_BASE, \
	.num_int_regs =	((MT6667_IRQ_##sp##_BITS - 1) / MT6667_REG_WIDTH) + 1, \
	.en_reg = MT6667_##sp##_TOP_INT_CON0, \
	.en_reg_shift = 0x3, \
	.sta_reg = MT6667_##sp##_TOP_INT_STATUS0, \
	.sta_reg_shift = 0x1, \
	.top_offset = MT6667_##sp##_TOP, \
}

#endif /* __MFD_MT6667_CORE_H__ */
