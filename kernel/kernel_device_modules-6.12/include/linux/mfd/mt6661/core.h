/* SPDX-License-Identifier: GPL-2.0 */
/*
 * Copyright (c) 2024 MediaTek Inc.
 */

#ifndef __MFD_MT6661_CORE_H__
#define __MFD_MT6661_CORE_H__

#define MT6661_REG_WIDTH 8

enum mt6661_irq_top_status_shift {
	MT6661_BUCK_TOP = 0,
	MT6661_LDO_TOP,
	MT6661_PSC_TOP,
	MT6661_MISC_TOP,
	MT6661_HK_TOP,
	MT6661_SCK_TOP,
	MT6661_BM_TOP,
	MT6661_AUD_TOP,
};

enum mt6661_irq_numbers {
	/* BUCK_TOP_INT_STATUS0 */
	MT6661_IRQ_BUCK1_OC = 0,
	MT6661_IRQ_BUCK2_OC,
	MT6661_IRQ_BUCK3_OC,
	MT6661_IRQ_BUCK4_OC,
	MT6661_IRQ_BUCK5_OC,
	MT6661_IRQ_BUCK6_OC,
	MT6661_IRQ_BUCK1_SC = 8,
	MT6661_IRQ_BUCK2_SC,
	MT6661_IRQ_BUCK3_SC,
	MT6661_IRQ_BUCK4_SC,
	MT6661_IRQ_BUCK5_SC,
	MT6661_IRQ_BUCK6_SC,
	MT6661_IRQ_BUCK1_OVP = 16,
	MT6661_IRQ_BUCK2_OVP,
	MT6661_IRQ_BUCK3_OVP,
	MT6661_IRQ_BUCK4_OVP,
	MT6661_IRQ_BUCK5_OVP,
	MT6661_IRQ_BUCK6_OVP,
	MT6661_IRQ_BUCK1_LOPEN = 24,
	MT6661_IRQ_BUCK2_LOPEN,
	MT6661_IRQ_BUCK3_LOPEN,
	MT6661_IRQ_BUCK4_LOPEN,
	MT6661_IRQ_BUCK5_LOPEN,
	MT6661_IRQ_BUCK6_LOPEN,
	/* LDO_TOP_INT_STATUS0 */
	MT6661_IRQ_LD20_1_NM_OC = 32,
	MT6661_IRQ_LD20_2_NM_OC,
	MT6661_IRQ_LDC0_3_NM_OC,
	MT6661_IRQ_LDC0_4_NM_OC,
	MT6661_IRQ_LN60_5_NM_OC,
	MT6661_IRQ_LN60_6_NM_OC,
	MT6661_IRQ_LNC0_10_NM_OC,
	MT6661_IRQ_LN60_7_NM_OC,
	MT6661_IRQ_LNC0_8_NM_OC,
	MT6661_IRQ_LNC0_9_NM_OC,
	MT6661_IRQ_LNC0_S_11_NM_OC,
	MT6661_IRQ_LNC0_S_12_NM_OC,
	MT6661_IRQ_LD20_1_LP_OC = 48,
	MT6661_IRQ_LD20_2_LP_OC,
	MT6661_IRQ_LDC0_3_LP_OC,
	MT6661_IRQ_LDC0_4_LP_OC,
	MT6661_IRQ_LN60_5_LP_OC,
	MT6661_IRQ_LN60_6_LP_OC,
	MT6661_IRQ_LNC0_10_LP_OC,
	MT6661_IRQ_LN60_7_LP_OC,
	MT6661_IRQ_LNC0_8_LP_OC,
	MT6661_IRQ_LNC0_9_LP_OC,
	MT6661_IRQ_LNC0_S_11_LP_OC,
	MT6661_IRQ_LNC0_S_12_LP_OC,
	/* PSC_TOP_INT_STATUS0 */
	MT6661_IRQ_PWRKEY = 64,
	MT6661_IRQ_HOMEKEY,
	MT6661_IRQ_HOMEKEY_2,
	MT6661_IRQ_PWRKEY_R,
	MT6661_IRQ_HOMEKEY_R,
	MT6661_IRQ_HOMEKEY_2_R,
	MT6661_IRQ_CHRDET_EDGE,
	MT6661_IRQ_CHRDET_LEVEL,
	MT6661_IRQ_NI_LVSYS_INT1_FALLING,
	MT6661_IRQ_NI_LVSYS_INT1_RISING,
	MT6661_IRQ_NI_LVSYS_INT2_FALLING,
	MT6661_IRQ_NI_LVSYS_INT2_RISING,
	MT6661_IRQ_NI_LVSYS_INT3_FALLING,
	MT6661_IRQ_PRE_OT_BELOW,
	MT6661_IRQ_PRE_OT_OVER,
	/* MISC_TOP_INT_STATUS0 */
	MT6661_IRQ_RCS0 = 80,
	MT6661_IRQ_SPMI_CMD_ALERT,
	MT6661_IRQ_SPMI_PARITY_ERR,
	MT6661_IRQ_SPMI_GLITCH_DET,
	MT6661_IRQ_SPMI_GID_RD_ERR,
	MT6661_IRQ_SPMI_TIMEOUT,
	MT6661_IRQ_BM_PROTREG,
	MT6661_IRQ_VRC_PROTREG,
	MT6661_IRQ_BUCK_PROTREG,
	MT6661_IRQ_LDO_PROTREG,
	MT6661_IRQ_PSC_PROTREG,
	MT6661_IRQ_PLT_PROTREG,
	MT6661_IRQ_HK_PROTREG,
	MT6661_IRQ_SCK_PROTREG,
	MT6661_IRQ_XPP_PROTREG,
	MT6661_IRQ_TOP_PROTREG,
	/* HK_TOP_INT_STATUS0 */
	MT6661_IRQ_ADC_ABNORM = 96,
	MT6661_IRQ_IBUCK_ON,
	MT6661_IRQ_IBUCK_OFF,
	MT6661_IRQ_THR_H,
	MT6661_IRQ_THR_L,
	MT6661_IRQ_POLL_EXCEPT,
	MT6661_IRQ_DBG_RSV1,
	MT6661_IRQ_DBG_RSV2,
	MT6661_IRQ_NR = 104,
};

#define MT6661_IRQ_BUCK_BASE MT6661_IRQ_BUCK1_OC
#define MT6661_IRQ_LDO_BASE MT6661_IRQ_LD20_1_NM_OC
#define MT6661_IRQ_PSC_BASE MT6661_IRQ_PWRKEY
#define MT6661_IRQ_MISC_BASE MT6661_IRQ_RCS0
#define MT6661_IRQ_HK_BASE MT6661_IRQ_ADC_ABNORM

#define MT6661_IRQ_BUCK_BITS \
	(MT6661_IRQ_BUCK6_LOPEN - MT6661_IRQ_BUCK_BASE + 1)
#define MT6661_IRQ_LDO_BITS \
	(MT6661_IRQ_LNC0_S_12_LP_OC - MT6661_IRQ_LDO_BASE + 1)
#define MT6661_IRQ_PSC_BITS \
	(MT6661_IRQ_PRE_OT_OVER - MT6661_IRQ_PSC_BASE + 1)
#define MT6661_IRQ_MISC_BITS \
	(MT6661_IRQ_TOP_PROTREG - MT6661_IRQ_MISC_BASE + 1)
#define MT6661_IRQ_HK_BITS \
	(MT6661_IRQ_DBG_RSV2 - MT6661_IRQ_HK_BASE + 1)

#define MT6661_TOP_GEN(sp) \
{ \
	.hwirq_base = MT6661_IRQ_##sp##_BASE, \
	.num_int_regs =	((MT6661_IRQ_##sp##_BITS - 1) / MT6661_REG_WIDTH) + 1, \
	.en_reg = MT6661_##sp##_TOP_INT_CON0, \
	.en_reg_shift = 0x3, \
	.sta_reg = MT6661_##sp##_TOP_INT_STATUS0, \
	.sta_reg_shift = 0x1, \
	.top_offset = MT6661_##sp##_TOP, \
}

#endif /* __MFD_MT6661_CORE_H__ */
