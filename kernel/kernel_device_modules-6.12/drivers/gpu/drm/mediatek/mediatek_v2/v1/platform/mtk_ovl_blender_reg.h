/* SPDX-License-Identifier: GPL-2.0 */
/*
 * Copyright (c) 2023 MediaTek Inc.
 */

#ifndef __MTK_DISP_OVL_BLENDER_REG_H__
#define __MTK_DISP_OVL_BLENDER_REG_H__

#define REG_NOT_SUPPORT (0xFFF)

enum disp_ovl_bld_register{
	OVL_BLD_STA,
	OVL_BLD_INTEN,
	OVL_BLD_INTSTA,
	OVL_BLD_FUNC_DCM_DIS0,
	OVL_BLD_DATAPATH_CON,
	OVL_BLD_RELAY_MODE_OPT,
	OVL_BLD_EN,
	OVL_BLD_RST,
	OVL_BLD_SHADOW_CTRL,
	OVL_BLD_ROI_SIZE,
	OVL_BLD_L0_EN,
	OVL_BLD_L0_OFFSET,
	OVL_BLD_L0_SRC_SIZE,
	OVL_BLD_L0_CLIP,
	OVL_BLD_L0_CLRFMT,
	OVL_BLD_L0_CON,
	OVL_BLD_EL0_EN,
	OVL_BLD_EL0_OFFSET,
	OVL_BLD_EL0_SRC_SIZE,
	OVL_BLD_EL0_CLIP,
	OVL_BLD_EL0_CLRFMT,
	OVL_BLD_EL0_CON,
	OVL_BLD_EL1_EN,
	OVL_BLD_EL1_OFFSET,
	OVL_BLD_EL1_SRC_SIZE,
	OVL_BLD_EL1_CLIP,
	OVL_BLD_EL1_CLRFMT,
	OVL_BLD_EL1_CON,
	OVL_BLD_EL2_EN,
	OVL_BLD_EL2_OFFSET,
	OVL_BLD_EL2_SRC_SIZE,
	OVL_BLD_EL2_CLIP,
	OVL_BLD_EL2_CLRFMT,
	OVL_BLD_EL2_CON,
	OVL_BLD_BGCLR_CON,
	OVL_BLD_BGCLR_CLR,
	OVL_BLD_L0_CON2,
	OVL_BLD_L0_SRCKEY,
	OVL_BLD_L0_PITCH,
	OVL_BLD_L0_CLR,
	OVL_BLD_EL0_CON2,
	OVL_BLD_EL0_SRCKEY,
	OVL_BLD_EL0_PITCH,
	OVL_BLD_EL0_CLR,
	OVL_BLD_EL1_CON2,
	OVL_BLD_EL1_SRCKEY,
	OVL_BLD_EL1_PITCH,
	OVL_BLD_EL1_CLR,
	OVL_BLD_EL2_CON2,
	OVL_BLD_EL2_SRCKEY,
	OVL_BLD_EL2_PITCH,
	OVL_BLD_EL2_CLR,
	OVL_BLD_OVLBN_CTRL0,
	OVL_BLD_OVLBN_CTRL1,
	OVL_BLD_OVLBN_CTRL2,
	OVL_BLD_OVLBN_CTRL3,
	OVL_BLD_OVLBN_CTRL4,
	OVL_BLD_OVLBN_CTRL5,
	OVL_BLD_OVLBN_CTRL6,
	OVL_BLD_OVLBN_CTRL7,
	OVL_BLD_OVLBN_CTRL8,
	OVL_BLD_OVLBN_CTRL9,
	OVL_BLD_OVLBN_CTRL10,
	OVL_BLD_OVLBN_CTRL11,
	OVL_BLD_OVLBN_CTRL12,
	OVL_BLD_OVLBN_CTRL13,
	OVL_BLD_ROI_TIMING_0,
	OVL_BLD_ROI_TIMING_2,
	OVL_BLD_ROI_TIMING_4,
	OVL_BLD_ROI_TIMING_6,
	OVL_BLD_DEBUG_MON_SEL,
	OVL_BLD_DBG_MISC0,
	OVL_BLD_CRC_CON,
	OVL_BLD_CRC_STATUS0,
	OVL_BLD_CRC_STATUS1,
	OVL_BLD_CRC_STATUS2,
	OVL_BLD_DBG_STATUS0,
	OVL_BLD_DBG_STATUS1,
	OVL_BLD_DBG_STATUS2,
	OVL_BLD_DBG_STATUS3,
	OVL_BLD_DBG_STATUS4,
	OVL_BLD_DBG_STATUS5,
	OVL_BLD_DBG_STATUS6,
	OVL_BLD_DUMMY0,
	OVL_BLD_DUMMY1,
	OVL_BLD_REG_TOTAL
};

static const u16 ovl_bld_regs_mt6991[OVL_BLD_REG_TOTAL] = {
	[OVL_BLD_STA] = 0x000,
	[OVL_BLD_INTEN] = 0x004,
	[OVL_BLD_INTSTA] = 0x008,
	[OVL_BLD_FUNC_DCM_DIS0] = 0x00C,
	[OVL_BLD_DATAPATH_CON] = 0x010,
	[OVL_BLD_RELAY_MODE_OPT] = REG_NOT_SUPPORT,
	[OVL_BLD_EN] = 0x020,
	[OVL_BLD_RST] = 0x024,
	[OVL_BLD_SHADOW_CTRL] = 0x028,
	[OVL_BLD_ROI_SIZE] = 0x030,
	[OVL_BLD_L0_EN] = 0x040,
	[OVL_BLD_L0_OFFSET] = 0x044,
	[OVL_BLD_L0_SRC_SIZE] = 0x048,
	[OVL_BLD_L0_CLIP] = 0x04C,
	[OVL_BLD_L0_CLRFMT] = 0x050,
	[OVL_BLD_L0_CON] = 0x054,
	[OVL_BLD_EL0_EN] = 0x070,
	[OVL_BLD_EL0_OFFSET] = 0x074,
	[OVL_BLD_EL0_SRC_SIZE] = 0x078,
	[OVL_BLD_EL0_CLIP] = 0x07C,
	[OVL_BLD_EL0_CLRFMT] = 0x080,
	[OVL_BLD_EL0_CON] = 0x084,
	[OVL_BLD_EL1_EN] = 0x0A0,
	[OVL_BLD_EL1_OFFSET] = 0x0A4,
	[OVL_BLD_EL1_SRC_SIZE] = 0x0A8,
	[OVL_BLD_EL1_CLIP] = 0x0AC,
	[OVL_BLD_EL1_CLRFMT] = 0x0B0,
	[OVL_BLD_EL1_CON] = 0x0B4,
	[OVL_BLD_EL2_EN] = 0x0D0,
	[OVL_BLD_EL2_OFFSET] = 0x0D4,
	[OVL_BLD_EL2_SRC_SIZE] = 0x0D8,
	[OVL_BLD_EL2_CLIP] = 0x0DC,
	[OVL_BLD_EL2_CLRFMT] = 0x0E0,
	[OVL_BLD_EL2_CON] = 0x0E4,
	[OVL_BLD_BGCLR_CON] = 0x100,
	[OVL_BLD_BGCLR_CLR] = 0x104,
	[OVL_BLD_L0_CON2] = 0x200,
	[OVL_BLD_L0_SRCKEY] = 0x204,
	[OVL_BLD_L0_PITCH] = 0x208,
	[OVL_BLD_L0_CLR] = 0x20C,
	[OVL_BLD_EL0_CON2] = 0x300,
	[OVL_BLD_EL0_SRCKEY] = 0x304,
	[OVL_BLD_EL0_PITCH] = 0x308,
	[OVL_BLD_EL0_CLR] = 0x30C,
	[OVL_BLD_EL1_CON2] = 0x400,
	[OVL_BLD_EL1_SRCKEY] = 0x404,
	[OVL_BLD_EL1_PITCH] = 0x408,
	[OVL_BLD_EL1_CLR] = 0x40C,
	[OVL_BLD_EL2_CON2] = 0x500,
	[OVL_BLD_EL2_SRCKEY] = 0x504,
	[OVL_BLD_EL2_PITCH] = 0x508,
	[OVL_BLD_EL2_CLR] = 0x50C,
	[OVL_BLD_OVLBN_CTRL0] = 0x600,
	[OVL_BLD_OVLBN_CTRL1] = 0x604,
	[OVL_BLD_OVLBN_CTRL2] = 0x608,
	[OVL_BLD_OVLBN_CTRL3] = 0x60C,
	[OVL_BLD_OVLBN_CTRL4] = 0x610,
	[OVL_BLD_OVLBN_CTRL5] = 0x614,
	[OVL_BLD_OVLBN_CTRL6] = 0x618,
	[OVL_BLD_OVLBN_CTRL7] = 0x61C,
	[OVL_BLD_OVLBN_CTRL8] = 0x620,
	[OVL_BLD_OVLBN_CTRL9] = 0x624,
	[OVL_BLD_OVLBN_CTRL10] = 0x628,
	[OVL_BLD_OVLBN_CTRL11] = 0x62C,
	[OVL_BLD_OVLBN_CTRL12] = 0x630,
	[OVL_BLD_OVLBN_CTRL13] = 0x634,
	[OVL_BLD_ROI_TIMING_0] = 0x700,
	[OVL_BLD_ROI_TIMING_2] = 0x704,
	[OVL_BLD_ROI_TIMING_4] = 0x708,
	[OVL_BLD_ROI_TIMING_6] = 0x70C,
	[OVL_BLD_DEBUG_MON_SEL] = 0x780,
	[OVL_BLD_DBG_MISC0] = 0x784,
	[OVL_BLD_CRC_CON] = 0x790,
	[OVL_BLD_CRC_STATUS0] = 0x794,
	[OVL_BLD_CRC_STATUS1] = 0x798,
	[OVL_BLD_CRC_STATUS2] = 0x79C,
	[OVL_BLD_DBG_STATUS0] = 0x7A0,
	[OVL_BLD_DBG_STATUS1] = 0x7A4,
	[OVL_BLD_DBG_STATUS2] = 0x7A8,
	[OVL_BLD_DBG_STATUS3] = 0x7AC,
	[OVL_BLD_DBG_STATUS4] = 0x7B0,
	[OVL_BLD_DBG_STATUS5] = 0x7B4,
	[OVL_BLD_DBG_STATUS6] = 0x7B8,
	[OVL_BLD_DUMMY0] = 0xA00,
	[OVL_BLD_DUMMY1] = 0xA04,
};

static const u16 ovl_bld_regs_mt6993[OVL_BLD_REG_TOTAL] = {
	[OVL_BLD_STA] = 0x000,
	[OVL_BLD_INTEN] = 0x004,
	[OVL_BLD_INTSTA] = 0x008,
	[OVL_BLD_FUNC_DCM_DIS0] = 0x00C,
	[OVL_BLD_DATAPATH_CON] = 0x010,
	[OVL_BLD_RELAY_MODE_OPT] = 0x01C,
	[OVL_BLD_EN] = 0x020,
	[OVL_BLD_RST] = 0x024,
	[OVL_BLD_SHADOW_CTRL] = 0x028,
	[OVL_BLD_ROI_SIZE] = 0x030,
	[OVL_BLD_L0_EN] = 0x040,
	[OVL_BLD_L0_OFFSET] = 0x044,
	[OVL_BLD_L0_SRC_SIZE] = 0x048,
	[OVL_BLD_L0_CLIP] = 0x04C,
	[OVL_BLD_L0_CLRFMT] = 0x050,
	[OVL_BLD_L0_CON] = 0x054,
	[OVL_BLD_EL0_EN] = 0x070,
	[OVL_BLD_EL0_OFFSET] = 0x074,
	[OVL_BLD_EL0_SRC_SIZE] = 0x078,
	[OVL_BLD_EL0_CLIP] = 0x07C,
	[OVL_BLD_EL0_CLRFMT] = 0x080,
	[OVL_BLD_EL0_CON] = 0x084,
	[OVL_BLD_EL1_EN] = 0x0A0,
	[OVL_BLD_EL1_OFFSET] = 0x0A4,
	[OVL_BLD_EL1_SRC_SIZE] = 0x0A8,
	[OVL_BLD_EL1_CLIP] = 0x0AC,
	[OVL_BLD_EL1_CLRFMT] = 0x0B0,
	[OVL_BLD_EL1_CON] = 0x0B4,
	[OVL_BLD_EL2_EN] = 0x0D0,
	[OVL_BLD_EL2_OFFSET] = 0x0D4,
	[OVL_BLD_EL2_SRC_SIZE] = 0x0D8,
	[OVL_BLD_EL2_CLIP] = 0x0DC,
	[OVL_BLD_EL2_CLRFMT] = 0x0E0,
	[OVL_BLD_EL2_CON] = 0x0E4,
	[OVL_BLD_BGCLR_CON] = 0x100,
	[OVL_BLD_BGCLR_CLR] = 0x104,
	[OVL_BLD_L0_CON2] = 0x200,
	[OVL_BLD_L0_SRCKEY] = 0x204,
	[OVL_BLD_L0_PITCH] = 0x208,
	[OVL_BLD_L0_CLR] = 0x20C,
	[OVL_BLD_EL0_CON2] = 0x300,
	[OVL_BLD_EL0_SRCKEY] = 0x304,
	[OVL_BLD_EL0_PITCH] = 0x308,
	[OVL_BLD_EL0_CLR] = 0x30C,
	[OVL_BLD_EL1_CON2] = 0x400,
	[OVL_BLD_EL1_SRCKEY] = 0x404,
	[OVL_BLD_EL1_PITCH] = 0x408,
	[OVL_BLD_EL1_CLR] = 0x40C,
	[OVL_BLD_EL2_CON2] = 0x500,
	[OVL_BLD_EL2_SRCKEY] = 0x504,
	[OVL_BLD_EL2_PITCH] = 0x508,
	[OVL_BLD_EL2_CLR] = 0x50C,
	[OVL_BLD_OVLBN_CTRL0] = 0x600,
	[OVL_BLD_OVLBN_CTRL1] = 0x604,
	[OVL_BLD_OVLBN_CTRL2] = 0x608,
	[OVL_BLD_OVLBN_CTRL3] = 0x60C,
	[OVL_BLD_OVLBN_CTRL4] = 0x610,
	[OVL_BLD_OVLBN_CTRL5] = 0x614,
	[OVL_BLD_OVLBN_CTRL6] = 0x618,
	[OVL_BLD_OVLBN_CTRL7] = 0x61C,
	[OVL_BLD_OVLBN_CTRL8] = 0x620,
	[OVL_BLD_OVLBN_CTRL9] = 0x624,
	[OVL_BLD_OVLBN_CTRL10] = 0x628,
	[OVL_BLD_OVLBN_CTRL11] = 0x62C,
	[OVL_BLD_OVLBN_CTRL12] = 0x630,
	[OVL_BLD_OVLBN_CTRL13] = 0x634,
	[OVL_BLD_ROI_TIMING_0] = 0x700,
	[OVL_BLD_ROI_TIMING_2] = 0x704,
	[OVL_BLD_ROI_TIMING_4] = 0x708,
	[OVL_BLD_ROI_TIMING_6] = 0x70C,
	[OVL_BLD_DEBUG_MON_SEL] = 0x780,
	[OVL_BLD_DBG_MISC0] = 0x784,
	[OVL_BLD_CRC_CON] = 0x790,
	[OVL_BLD_CRC_STATUS0] = 0x794,
	[OVL_BLD_CRC_STATUS1] = 0x798,
	[OVL_BLD_CRC_STATUS2] = 0x79C,
	[OVL_BLD_DBG_STATUS0] = 0x7A0,
	[OVL_BLD_DBG_STATUS1] = 0x7A4,
	[OVL_BLD_DBG_STATUS2] = 0x7A8,
	[OVL_BLD_DBG_STATUS3] = 0x7AC,
	[OVL_BLD_DBG_STATUS4] = 0x7B0,
	[OVL_BLD_DBG_STATUS5] = 0x7B4,
	[OVL_BLD_DBG_STATUS6] = 0x7B8,
	[OVL_BLD_DUMMY0] = 0xA00,
	[OVL_BLD_DUMMY1] = 0xA04,
};

enum disp_ovl_bld_reg_fld {
	/*OVL_BLD_INTSTA*/
	FLD_REG_UPDATE_INTSTA,
	FLD_FRAME_DONE_INTSTA,
	FLD_ABNORMAL_SOF_INTSTA,
	FLD_OVL_START_INTSTA,
	FLD_OVL_ROI_TIMING_0_INTSTA,
	FLD_OVL_ROI_TIMING_1_INTSTA,
	FLD_OVL_ROI_TIMING_2_INTSTA,
	FLD_OVL_ROI_TIMING_3_INTSTA,
	FLD_OVL_ROI_TIMING_4_INTSTA,
	FLD_OVL_ROI_TIMING_5_INTSTA,
	FLD_OVL_ROI_TIMING_6_INTSTA,
	FLD_OVL_ROI_TIMING_7_INTSTA,

	/*OVL_BLD_DATAPATH_CON*/
	FLD_BLD_BGCLR_IN_SEL,
	FLD_BGCLR_OUT_SEL,

	/*OVL_BLD_EN*/
	FLD_OVL_BLD_EN,

	/*OVL_BLD_SHADOW_CTRL*/
	FLD_OVL_BYPASS_SHADOW,

	/*OVL_BLD_L0_EN*/
	FLD_BLD_L0_EN,
	FLD_BLD_L0_LAYER_SRC,

	/*OVL_BLD_EL0_EN*/
	FLD_BLD_ELX_EN,
	FLD_BLD_ELX_LAYER_SRC,

	/*OVL_BLD_L0_CLIP*/
	FLD_BLD_L0_SRC_LEFT_CLIP,
	FLD_BLD_L0_SRC_RIGHT_CLIP,
	FLD_BLD_L0_SRC_TOP_CLIP,
	FLD_BLD_L0_SRC_BOTTOM_CLIP,

	/*OVL_BLD_L0_CON2*/
	FLD_BLD_L0_ALPHA,
	FLD_BLD_L0_ALPHA_EN,

	/*OVL_BLD_L0_PITCH*/
	FLD_BLD_L0_CONST_BLD,

	/*OVL_BLD_DBG_STATUS5*/
	FLD_BLD_BGCLR_IN_VALID,
	FLD_BLD_BGCLR_IN_READY,
	FLD_BLD_LAYER_IN_VALID,
	FLD_BLD_LAYER_IN_READY,
	FLD_BLD_BLD2CLR_VALID,
	FLD_BLD_BLD2CLR_READY,
	FLD_BLD_BLD2BLD_VALID,
	FLD_BLD_BLD2BLD_READY,

	OVL_BLD_FLD_TOTAL
};

static const u32 ovl_bld_fld_mt6991[OVL_BLD_FLD_TOTAL] = {
	/*OVL_BLD_INTSTA*/

	[FLD_REG_UPDATE_INTSTA] = REG_FLD_MSB_LSB(0, 0),
	[FLD_FRAME_DONE_INTSTA] = REG_FLD_MSB_LSB(1, 1),
	[FLD_ABNORMAL_SOF_INTSTA] = REG_FLD_MSB_LSB(2, 2),
	[FLD_OVL_START_INTSTA] = REG_FLD_MSB_LSB(3, 3),
	[FLD_OVL_ROI_TIMING_0_INTSTA] = REG_FLD_MSB_LSB(8, 8),
	[FLD_OVL_ROI_TIMING_1_INTSTA] = REG_FLD_MSB_LSB(9, 9),
	[FLD_OVL_ROI_TIMING_2_INTSTA] = REG_FLD_MSB_LSB(10, 10),
	[FLD_OVL_ROI_TIMING_3_INTSTA] = REG_FLD_MSB_LSB(11, 11),
	[FLD_OVL_ROI_TIMING_4_INTSTA] = REG_FLD_MSB_LSB(12, 12),
	[FLD_OVL_ROI_TIMING_5_INTSTA] = REG_FLD_MSB_LSB(13, 13),
	[FLD_OVL_ROI_TIMING_6_INTSTA] = REG_FLD_MSB_LSB(14, 14),
	[FLD_OVL_ROI_TIMING_7_INTSTA] = REG_FLD_MSB_LSB(15, 15),

	/*OVL_BLD_DATAPATH_CON*/
	[FLD_BLD_BGCLR_IN_SEL] = REG_FLD_MSB_LSB(0, 0),
	[FLD_BGCLR_OUT_SEL] = REG_FLD_MSB_LSB(5, 4),

	/*OVL_BLD_EN*/
	[FLD_OVL_BLD_EN] = REG_FLD_MSB_LSB(0, 0),

	/*OVL_BLD_SHADOW_CTRL*/
	[FLD_OVL_BYPASS_SHADOW] = REG_FLD_MSB_LSB(2, 2),

	/*OVL_BLD_L0_EN*/
	[FLD_BLD_L0_EN] = REG_FLD_MSB_LSB(0, 0),
	[FLD_BLD_L0_LAYER_SRC] = REG_FLD_MSB_LSB(9, 8),

	/*OVL_BLD_EL0_EN*/
	[FLD_BLD_ELX_EN] = REG_FLD_MSB_LSB(0, 0),
	[FLD_BLD_ELX_LAYER_SRC] = REG_FLD_MSB_LSB(9, 8),

	/*OVL_BLD_L0_CLIP*/
	[FLD_BLD_L0_SRC_LEFT_CLIP] = REG_FLD_MSB_LSB(7, 0),
	[FLD_BLD_L0_SRC_RIGHT_CLIP] = REG_FLD_MSB_LSB(15, 8),
	[FLD_BLD_L0_SRC_TOP_CLIP] = REG_FLD_MSB_LSB(23, 16),
	[FLD_BLD_L0_SRC_BOTTOM_CLIP] = REG_FLD_MSB_LSB(31, 24),

	/*OVL_BLD_L0_CON2*/
	[FLD_BLD_L0_ALPHA] = REG_FLD_MSB_LSB(7, 0),
	[FLD_BLD_L0_ALPHA_EN] = REG_FLD_MSB_LSB(12, 12),

	/*OVL_BLD_L0_PITCH*/
	[FLD_BLD_L0_CONST_BLD] = REG_FLD_MSB_LSB(24, 24),

	/*OVL_BLD_DBG_STATUS5*/
	[FLD_BLD_BGCLR_IN_VALID] = REG_FLD_MSB_LSB(0, 0),
	[FLD_BLD_BGCLR_IN_READY] = REG_FLD_MSB_LSB(1, 1),
	[FLD_BLD_LAYER_IN_VALID] = REG_FLD_MSB_LSB(2, 2),
	[FLD_BLD_LAYER_IN_READY] = REG_FLD_MSB_LSB(3, 3),
	[FLD_BLD_BLD2CLR_VALID] = REG_FLD_MSB_LSB(12,12),
	[FLD_BLD_BLD2CLR_READY] = REG_FLD_MSB_LSB(13,13),
	[FLD_BLD_BLD2BLD_VALID] = REG_FLD_MSB_LSB(14,14),
	[FLD_BLD_BLD2BLD_READY] = REG_FLD_MSB_LSB(15,15),

};


#endif
